<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>HyperAST book</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="Intro.html">Intro</a></li><li class="chapter-item affix "><li class="part-title">Setup</li><li class="chapter-item "><a href="setup/rust_toolchain.html"><strong aria-hidden="true">1.</strong> Rust Toolchain</a></li><li class="chapter-item affix "><li class="part-title">How to use HyperAST</li><li class="chapter-item "><a href="quickstart/quickstart.html"><strong aria-hidden="true">2.</strong> QuickStart</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="quickstart/compute_code_metrics.html"><strong aria-hidden="true">2.1.</strong> Compute code metrics (GUI)</a></li><li class="chapter-item "><a href="quickstart/track_code.html"><strong aria-hidden="true">2.2.</strong> Track code (GUI)</a></li><li class="chapter-item "><a href="quickstart/add_treesitter_grammar.html"><strong aria-hidden="true">2.3.</strong> Add a TreeSitter grammar</a></li></ol></li><li class="chapter-item "><a href="concrete_applications/concrete_applications.html"><strong aria-hidden="true">3.</strong> Concrete applications</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="concrete_applications/track_stockfish.html"><strong aria-hidden="true">3.1.</strong> Track hyper parameters in Stockfish code base</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">4.</strong> Experimental usecases</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div><strong aria-hidden="true">4.1.</strong> REST API</div></li><li class="chapter-item "><div><strong aria-hidden="true">4.2.</strong> Incremental computing</div></li></ol></li><li class="chapter-item "><li class="part-title">Contribute</li><li class="chapter-item "><a href="contribute/architecture.html"><strong aria-hidden="true">5.</strong> Architecture</a></li><li class="chapter-item "><a href="contribute/contribute.html"><strong aria-hidden="true">6.</strong> How to contribute</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="contribute/add_new_language.html"><strong aria-hidden="true">6.1.</strong> Add a custom language</a></li></ol></li><li class="chapter-item "><li class="part-title">To go further</li><li class="chapter-item "><a href="to_go_further/scientific_literature.html"><strong aria-hidden="true">7.</strong> Scientific Literature</a></li><li class="chapter-item "><a href="to_go_further/related_work.html"><strong aria-hidden="true">8.</strong> Related work</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">HyperAST book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/HyperAST" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="intro"><a class="header" href="#intro">Intro</a></h1>
<p>HyperAST code is open-source and available on <a href="https://github.com/quentinLeDilavrec/HyperAST">Github</a>. This book is also open-source and available on <a href="https://github.com/quentinLeDilavrec/HyperAST/book">Github</a> in the same repo.</p>
<p>HyperAST is a research project at IRISA, Rennes, France. It is a tool to analyze git repositories and extract information from them. It is written in Rust.</p>
<p>The HyperAST is not made for to analyse a single repository. It is made to analyse a set of repositories over time. It is meant to analyse the evolution of a code base over time, to understand where a bug is comming from, to see how a piece of code has evolved over time, etc.</p>
<p>It is meant to be state of the art and fast to be able to be used on big code bases in real time.</p>
<blockquote>
<p>This book is here to make it easier to understand how to use HyperAST for any programmers(understanding the API but mainly how to use the GUI). It it also here to explain how to contribute to the project (mainly add support for new language).</p>
</blockquote>
<p align="center">
    HyperAST and Coevolution by Stable Diffusion
    <img src = "./coevolution.png" alt = "HyperAST and Coevolution by Stable Diffusion">
</p><div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-install-rust-toolchain"><a class="header" href="#how-to-install-rust-toolchain">How to install Rust toolchain</a></h1>
<h2 id="install-rust"><a class="header" href="#install-rust">Install Rust</a></h2>
<blockquote>
<p><a href="https://www.rust-lang.org/tools/install">rust-lang.org/tools/install</a></p>
</blockquote>
<h3 id="setup-nightly-channel"><a class="header" href="#setup-nightly-channel">Setup Nightly Channel</a></h3>
<p>We use the <a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html">nightly toolchain</a> of the Rust compiler in this project. It is stable enough and offers useful features.</p>
<p>Those commmands will install the nightly toolchain and set it as default.</p>
<pre><code class="language-bash">&gt; rustup toolchain install nightly
</code></pre>
<pre><code class="language-bash">&gt; rustup default nightly
</code></pre>
<p>To go back to the stable toolchain after you are done with the project, run:</p>
<pre><code class="language-bash">&gt; rustup default stable
</code></pre>
<h2 id="troubleshooting-"><a class="header" href="#troubleshooting-">Troubleshooting :</a></h2>
<h3 id="macos"><a class="header" href="#macos">MacOS</a></h3>
<p>issue with trunk https://stackoverflow.com/questions/72146492/unable-to-execute-trunk-serve</p>
<pre><code class="language-bash">cargo install wasm-bindgen-cli
</code></pre>
<p>./concrete_applications/concrete_applications.md</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="quickstart"><a class="header" href="#quickstart">Quickstart</a></h1>
<p>In this section you'll find quickstart example about the HyperAST.</p>
<blockquote>
<p>Quickstarts mentioning (GUI) are using the graphical interface of the HyperAST.</p>
</blockquote>
<p>The project is divided in two parts :</p>
<ul>
<li>the <strong>GUI</strong> for having a graphical interface with the HyperAST</li>
<li>the <strong>API</strong> for having full control over the HyperAST</li>
</ul>
<h2 id="compute-code-metrics-gui"><a class="header" href="#compute-code-metrics-gui"><a href="quickstart/./quickstart/compute_code_metrics.html">Compute code metrics (GUI)</a></a></h2>
<p>A scripting language is available to compute metrics on multiple commits in the repository of your choice.</p>
<h2 id="track-code-gui"><a class="header" href="#track-code-gui"><a href="quickstart/./quickstart/track_code.html">Track code (GUI)</a></a></h2>
<p>The HyperAST enables you to easily track code changes across thousands of commits.</p>
<h2 id="add-a-treesitter-grammar"><a class="header" href="#add-a-treesitter-grammar"><a href="quickstart/./quickstart/add_treesitter_grammar.html">Add a TreeSitter grammar</a></a></h2>
<p>In the HyperAST you can add a TreeSitter grammar to handle more programming languages.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compute-code-metrics-gui-1"><a class="header" href="#compute-code-metrics-gui-1">Compute code metrics (GUI)</a></h1>
<p>A scripting language is available to compute metrics on multiple commits in the repository of your choice.</p>
<p align="center">
    The interface of the scripting language
    <img src = "./metrics_sh.png" alt = "interface of the scripting language">
</p><div style="break-before: page; page-break-before: always;"></div><h1 id="track-code-gui-1"><a class="header" href="#track-code-gui-1">Track code (GUI)</a></h1>
<p>The HyperAST enables you to easily track code changes across thousands of commits.</p>
<p align="center">
    <img src = "./tracking_sh2.png" alt = "tracking example">
</p>
<p align="center">
    <img src = "./tracking_sh3.png" alt = "tracking example">
</p><div style="break-before: page; page-break-before: always;"></div><h1 id="add-a-treesitter-grammar-1"><a class="header" href="#add-a-treesitter-grammar-1">Add a TreeSitter grammar</a></h1>
<p>In the HyperAST you can add a TreeSitter grammar to handle more programming languages.</p>
<p align="center">
    <img width = 40% src = "./tree-sitter-small.png" alt = "Tree Sitter Logo">
</p>
<blockquote>
<p><a href="https://tree-sitter.github.io/tree-sitter/creating-parsers">Getting Started TreeSitter</a></p>
</blockquote>
<blockquote>
<p><a href="https://gist.github.com/Aerijo/df27228d70c633e088b0591b8857eeef">How to Write a Tree-Sitter Grammar</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="concrete-applications"><a class="header" href="#concrete-applications">Concrete applications</a></h1>
<p>Here are some concrete example of the using the HyperAST on a real use case.</p>
<h2 id="track-hyper-parameters-in-stockfish-code-base"><a class="header" href="#track-hyper-parameters-in-stockfish-code-base"><a href="concrete_applications/./concrete_applications/track_stockfish.html">Track hyper parameters in Stockfish code base</a></a></h2>
<p>Example of tracking a variable in a large code base.</p>
<blockquote>
<p>See also <a href="concrete_applications/./quickstart/compute_code_metrics.html">Compute code metrics (GUI)</a></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="track-hyper-parameters-in-stockfish-code-base-1"><a class="header" href="#track-hyper-parameters-in-stockfish-code-base-1">Track hyper parameters in Stockfish code base</a></h1>
<!-- TODO screen shots stockfish --><div style="break-before: page; page-break-before: always;"></div><h1 id="architecture"><a class="header" href="#architecture">Architecture</a></h1>
<p>This document describes the architecture of the project. It is suppose to be highly technical and is not meant to be read to use the HyperAST.</p>
<h2 id="overview-of-the-structure"><a class="header" href="#overview-of-the-structure">Overview of the structure</a></h2>
<ul>
<li>
<p><strong>hyper_ast</strong> core crate representing the HyperAST structure</p>
</li>
<li>
<p><strong>hyper_app</strong> graphical interface to interact with the HyperAST (web and native support)</p>
<ul>
<li>compute metrics
<blockquote>
<p>see also <a href="contribute/../quickstart/compute_code_metrics.html">Compute code metrics (GUI)</a></p>
</blockquote>
</li>
<li>code tracking
<blockquote>
<p>see also <a href="contribute/../quickstart/track_code.html">Track code (GUI)</a></p>
</blockquote>
</li>
</ul>
</li>
<li>
<p><strong>server</strong> Rest API and server to remotely access HyperAST</p>
</li>
<li>
<p><strong>book</strong> your currently reading it!</p>
</li>
<li>
<p><strong>cvs/git</strong> facilities to handle the git control versioning system</p>
</li>
<li>
<p><strong>gen/tree-sitter/*</strong> tree sitter grammars of supported language</p>
<ul>
<li>Java</li>
<li>C++</li>
<li>Xml use for maven's pom.xml</li>
</ul>
</li>
<li>
<p><strong>hyper_diff</strong> algorithms to compute AST diffs</p>
</li>
<li>
<p><strong>egui_addon</strong> small addon of functionalities used in hyper_app</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-contribute"><a class="header" href="#how-to-contribute">How to contribute</a></h1>
<p>If you want to contribute to the project. The whole repositorie of the project is available on <a href="https://github.com/quentinLeDilavrec/HyperAST">github</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="support-of-progamming-language"><a class="header" href="#support-of-progamming-language">Support of progamming language</a></h1>
<h2 id="language-supported"><a class="header" href="#language-supported">Language supported</a></h2>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
Java</li>
<li><input disabled="" type="checkbox"/>
C++</li>
<li><input disabled="" type="checkbox"/>
XML</li>
<li><input disabled="" type="checkbox"/>
TypeScript</li>
</ul>
<h2 id="how-to-add-a-new-language"><a class="header" href="#how-to-add-a-new-language">How to add a new language</a></h2>
<p>It is for now <strong>NOT</strong> a simple task to add a language. The objective is it to be as simple as possible.</p>
<p>Unlike Github which only stores character additions and deletions in the source code (wich is not language dependant), HyperAST needs to know the semantics of the language to be able to analyse it.</p>
<p>The final objective is to be able to add a new language by only adding the grammar of the language and few more informations without having to modify a lot the code of the project.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scientific-literature"><a class="header" href="#scientific-literature">Scientific Literature</a></h1>
<blockquote>
<p><a href="https://doi.org/10.1145/3551349.3560423">HyperAST Paper</a></p>
</blockquote>
<hr />
<!-- <p align="center"> -->
<p>Structure of the HyperAST explained in the paper</p>
<p><img src="to_go_further/./../hast_archi.svg" alt="structure of the HyperAST" /></p>
<!-- <img src="" alt="structure of the HyperAST">  -->
<!-- </p> -->
<hr />
<p>Example detailed in the Paper</p>
<p align="center" width="100%">
    <img width="50%" src="to_go_further/./../hast_example_v1_v2.svg">     
    <img width="40%" src="to_go_further/./../hast_example_v1.svg">
</p>
<p align="center" width="100%">
</p><div style="break-before: page; page-break-before: always;"></div><h1 id="related-work"><a class="header" href="#related-work">Related work</a></h1>
<blockquote>
<p><a href="https://inria.hal.science/hal-03340174">Coevolution Paper</a></p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
